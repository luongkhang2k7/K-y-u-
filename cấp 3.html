<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Kỷ yếu cấp 3 - Niên khóa 2023</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap');

  * {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    font-family: 'Montserrat', sans-serif;
    background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
    color: #333;
  }

  /* Music player */
  #music-player {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: #ff6f91;
    border-radius: 50px;
    box-shadow: 0 8px 15px rgba(255,111,145,0.7);
    padding: 0.3rem 1rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 0.6rem;
    user-select: none;
    z-index: 1000;
    color: white;
    font-weight: 700;
    font-size: 0.95rem;
    transition: background-color 0.3s ease;
  }
  #music-player:hover {
    background: #e45c7f;
  }
  #music-player svg {
    width: 20px;
    height: 20px;
    fill: white;
    flex-shrink: 0;
  }

  header {
    background: #ff6f91;
    color: white;
    padding: 2rem 1rem;
    text-align: center;
    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
    opacity: 0;
    transform: translateY(-30px);
    animation: fadeSlideIn 0.8s ease forwards 0.2s;
  }
  header h1 {
    margin: 0;
    font-weight: 700;
    font-size: 2.5rem;
    letter-spacing: 0.1rem;
    text-transform: uppercase;
    text-shadow: 2px 2px 4px #c94f65;
  }
  header p {
    margin-top: 0.3rem;
    font-weight: 400;
    letter-spacing: 0.05rem;
    font-style: italic;
  }

  nav {
    background: #fff;
    display: flex;
    justify-content: center;
    gap: 2rem;
    padding: 1rem 0;
    box-shadow: 0 1px 6px rgba(0,0,0,0.1);
    position: sticky;
    top: 0;
    z-index: 10;
    opacity: 0;
    transform: translateY(-20px);
    animation: fadeSlideIn 0.6s ease forwards 1s;
  }
  nav a {
    text-decoration: none;
    font-weight: 600;
    color: #ff6f91;
    font-size: 1.1rem;
    transition: color 0.3s ease;
    position: relative;
  }
  nav a:hover,
  nav a.active {
    color: #c94f65;
  }

  main {
    max-width: 1100px;
    margin: 2rem auto;
    padding: 0 1rem 4rem;
  }

  section {
    margin-bottom: 4rem;
    opacity: 0;
    transform: translateY(30px);
    transition: opacity 0.6s ease, transform 0.6s ease;
  }
  section.visible {
    opacity: 1;
    transform: translateY(0);
  }
  section h2 {
    font-size: 2rem;
    color: #ff4f6a;
    margin-bottom: 1rem;
    text-align: center;
    text-transform: uppercase;
    letter-spacing: 0.15rem;
  }
  section p {
    max-width: 700px;
    margin: 0 auto 2rem;
    font-size: 1.1rem;
    line-height: 1.5;
    text-align: center;
  }

  /* Memories gallery */
  .gallery {
    display: grid;
    grid-template-columns: repeat(auto-fit,minmax(200px,1fr));
    gap: 1.2rem;
  }
  .gallery img {
    width: 100%;
    border-radius: 10px;
    box-shadow: 0 6px 18px rgba(255,111,145,0.35);
    object-fit: cover;
    height: 140px;
    cursor: pointer;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .gallery img:hover {
    transform: scale(1.05);
    box-shadow: 0 10px 30px rgba(255,111,145,0.6);
  }

  /* Video section */
  .video-container {
    max-width: 720px;
    margin: 0 auto;
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 8px 25px rgba(255,111,145,0.3);
  }
  .video-container video,
  .video-container iframe {
    width: 100%;
    height: 405px;
    display: block;
  }

  /* Modal for photo preview */
  .modal {
    display: none;
    position: fixed;
    z-index: 20;
    top: 0; left: 0; right:0; bottom: 0;
    background: rgba(0,0,0,0.8);
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s ease;
  }
  .modal.show {
    display: flex;
    opacity: 1;
  }
  .modal img {
    max-width: 90%;
    max-height: 80vh;
    border-radius: 10px;
    box-shadow: 0 12px 32px rgba(255,111,145,0.8);
    animation: zoomIn 0.3s ease forwards;
  }
  .modal .close-btn {
    position: absolute;
    top: 24px;
    right: 32px;
    font-size: 2.5rem;
    color: white;
    font-weight: 700;
    cursor: pointer;
    user-select: none;
    transition: color 0.3s ease;
  }
  .modal .close-btn:hover {
    color: #ff6f91;
  }

  /* Messages from students/teachers */
  .messages {
    max-width: 720px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }
  .message {
    background: white;
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(255,111,145,0.3);
    padding: 1.5rem 2rem;
    font-style: italic;
    position: relative;
    font-size: 1rem;
    opacity: 0;
    transform: translateX(-20px);
    transition: opacity 0.6s ease, transform 0.6s ease;
  }
  .message.visible {
    opacity: 1;
    transform: translateX(0);
  }
  .message:before {
    content: "“";
    font-size: 3rem;
    color: #ff6f91;
    position: absolute;
    top: 10px;
    left: 15px;
    font-family: serif;
  }
  .message-footer {
    margin-top: 0.8rem;
    text-align: right;
    font-weight: 700;
    color: #c94f65;
  }

  /* Classmates list */
  .classmates {
    max-width: 900px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: repeat(auto-fill,minmax(180px,1fr));
    gap: 1.5rem;
  }
  .classmate {
    background: white;
    border-radius: 15px;
    padding: 1.2rem;
    box-shadow: 0 4px 12px rgba(255,111,145,0.2);
    text-align: center;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    cursor: default;
    opacity: 0;
    transform: translateY(20px);
  }
  .classmate.visible {
    opacity: 1;
    transform: translateY(0);
  }
  .classmate:hover {
    transform: translateY(-6px) scale(1.05);
    box-shadow: 0 10px 25px rgba(255,111,145,0.4);
  }
  .classmate img {
    width: 100px;
    height: 100px;
    object-fit: cover;
    border-radius: 50%;
    border: 3px solid #ff6f91;
    margin-bottom: 0.8rem;
  }
  .classmate-name {
    font-weight: 700;
    color: #ff4f6a;
    font-size: 1.1rem;
  }
  .classmate-role {
    font-size: 0.85rem;
    font-style: italic;
    color: #c94f65;
  }

  footer {
    text-align: center;
    font-size: 0.9rem;
    margin: 2rem 0;
    color: #777;
  }

  @media (max-width:600px) {
    header h1 {
      font-size: 1.8rem;
    }
    section h2 {
      font-size: 1.5rem;
    }
    nav {
      flex-wrap: wrap;
      gap: 1rem;
    }
    .video-container video,
    .video-container iframe {
      height: 220px;
    }
  }

  /* Animations */
  @keyframes fadeSlideIn {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  @keyframes zoomIn {
    from {
      transform: scale(0.8);
      opacity: 0;
    }
    to {
      transform: scale(1);
      opacity: 1;
    }
  }
</style>
</head>
<body>
<header>
  <h1>Kỷ yếu cấp 3 </h1>
  <p>Niên khóa 2022-2025</p>
</header>
<nav>
  <a href="#about" class="active">Giới thiệu</a>
  <a href="#memories">Kỷ niệm</a>
  <a href="#video-memories">Video</a>
  <a href="#messages">Lời nhắn</a>
  <a href="#classmates">Bạn cùng lớp</a>
</nav>
<main>
  <section id="about" class="animate-section">
    <h2>Giới thiệu lớp</h2>
    <p>Chào mừng các bạn đến với trang kỷ yếu lớp 12CHO niên khóa 2022 - 2025. 
    Ba năm cấp 3 đầy ắp những câu chuyện, những kỷ niệm không thể nào quên. Hãy cùng nhau điểm lại những dấu ấn thời học trò và ghi nhớ bạn bè, thầy cô đáng quý trong quãng đời này!</p>
  </section>

  <section id="memories" class="animate-section">
    <h2>Kỷ niệm đáng nhớ</h2>
    <div class="gallery" tabindex="0">
      <img src="./1.jpg" alt="Ảnh kỷ niệm 1" />
      <img src="./2.jpg" alt="Ảnh kỷ niệm 2" />
      <img src="./3.jpg" alt="Ảnh kỷ niệm 3" />
      <img src="./4.jpg" alt="Ảnh kỷ niệm 4" />
      <img src="./5.jpg" alt="Ảnh kỷ niệm 5" />
      <img src="./6.jpg" alt="Ảnh kỷ niệm 6" />
      <img src="./6.jpg" alt="Ảnh kỷ niệm 6" />
    </div>
  </section>

  <section id="video-memories" class="animate-section">
    <h2>Video kỷ niệm</h2>
   <div style="display: flex; justify-content: center;">
    <iframe src="https://drive.google.com/file/d/1UNXdXqRIUvCIrhaUVfiPBMyeup7GhxSd/preview" width="640" height="360" 
        allow="autoplay"></iframe>
    </div>
  </section>


  <section id="messages" class="animate-section">
    <h2>Lời nhắn gửi</h2>
    <div class="messages">
      <div class="message">
        Ba năm trôi qua thật nhanh nhưng những kỷ niệm với thầy cô và các bạn sẽ mãi khắc sâu trong lòng tôi. Chúc mọi người thành công trên con đường tương lai! 
        <div class="message-footer">- Nguyễn Văn A</div>
      </div>
      <div class="message">
        Cảm ơn lớp 12A1 đã cho tôi một thanh xuân tươi đẹp. Mong các bạn giữ mãi tinh thần đoàn kết và sáng tạo. Hẹn gặp lại ở những chặng đường phía trước!
        <div class="message-footer">- Trần Thị Bích Ngọc</div>
      </div>
      <div class="message">
        Thầy cô là nguồn cảm hứng bất tận cho chúng ta. Niên khóa này sẽ luôn là nơi ghi dấu những bước chân vững chãi của các bạn học trò.
        <div class="message-footer">- Thầy Lê Minh Nghĩa</div>
      </div>
      <div class="message">
        Nhớ những giờ ra chơi rộn ràng tiếng cười, những tiết học đầy thử thách nhưng tràn ngập yêu thương.
        <div class="message-footer">- Phạm Minh Quân</div>
      </div>
      <div class="message">
        Thời học trò thật đẹp, cảm ơn mọi người đã cùng nhau tạo nên những kỷ niệm không bao giờ quên.
        <div class="message-footer">- Lê Thị Hồng</div>
      </div>
      <div class="message">
        Chúc các bạn luôn giữ ngọn lửa đam mê và tiến về phía trước với quyết tâm và niềm tin.
        <div class="message-footer">- Vũ Hoàng Dũng</div>
      </div>
      <div class="message">
        Dù có đi đâu, lớp 12A1 luôn là ngôi nhà thứ hai nơi ta được sẻ chia và yêu thương.
        <div class="message-footer">- Đặng Thị Mai</div>
      </div>
      <div class="message">
        Hãy giữ mãi tình bạn đẹp này và tiếp tục tỏa sáng trên con đường tương lai!
        <div class="message-footer">- Nguyễn Văn Bình</div>
      </div>
      <div class="message">
        Nhớ những đêm thức trắng cùng nhau ôn bài, cùng nhau chiến đấu vì giấc mơ chung!
        <div class="message-footer">- Trần Phương Anh</div>
      </div>
      <div class="message">
        Cảm ơn thầy cô đã dìu dắt chúng em trên từng bước đi đầu đời.
        <div class="message-footer">- Phạm Thanh Tú</div>
      </div>
      <div class="message">
        Tình bạn và kỷ niệm ở lớp 12A1 sẽ luôn là hành trang quý giá bên mình.
        <div class="message-footer">- Lý Đức Minh</div>
      </div>
      <div class="message">
        Hẹn gặp lại mọi người trên những chặng đường thành công phía trước!
        <div class="message-footer">- Hoàng Thị Lan</div>
      </div>
      <div class="message">
        Những ngày tháng bên nhau là những ngày tháng đẹp nhất trong cuộc đời.
        <div class="message-footer">- Nguyễn Hải Long</div>
      </div>
      <div class="message">
        Chúc các bạn luôn vui khỏe và thành công trong mọi lĩnh vực.
        <div class="message-footer">- Trần Minh Khoa</div>
      </div>
      <div class="message">
        Cảm ơn vì tất cả, vì tình bạn và cả những giọt nước mắt chia ly.
        <div class="message-footer">- Bùi Thị Hạnh</div>
      </div>
      <div class="message">
        Thời gian trôi nhanh nhưng kỷ niệm đẹp sẽ còn mãi trong tim.
        <div class="message-footer">- Lê Thị Thanh</div>
      </div>
      <div class="message">
        Mong mọi người sớm thành công và hạnh phúc bên gia đình và sự nghiệp.
        <div class="message-footer">- Phạm Đức Anh</div>
      </div>
      <div class="message">
        Hãy luôn nhớ về nhau và giữ gìn tình bạn quý giá này.
        <div class="message-footer">- Đỗ Quang Vinh</div>
      </div>
      <div class="message">
        Chúc lớp 12A1 mãi mãi gắn kết và phát triển trong tương lai.
        <div class="message-footer">- Vũ Thanh Mai</div>
      </div>
      <div class="message">
        Cảm ơn các bạn đã đồng hành cùng tôi trong suốt những năm tháng học trò.
        <div class="message-footer">- Nguyễn Ngọc Ánh</div>
      </div>
      <div class="message">
        Chúc các bạn có một tương lai sáng lạn, thành công và hạnh phúc.
        <div class="message-footer">- Lê Hoàng Nam</div>
      </div>
      <div class="message">
        Đừng quên rằng mỗi người trong lớp là một phần không thể thiếu của tập thể.
        <div class="message-footer">- Trần Thị Nga</div>
      </div>
      <div class="message">
        Hy vọng chúng ta sẽ gặp lại nhau trong những dịp sum họp đầy cảm xúc.
        <div class="message-footer">- Phan Thanh Tùng</div>
      </div>
      <div class="message">
        Hãy giữ mãi nụ cười rạng rỡ, tinh thần lạc quan và đầy nhiệt huyết.
        <div class="message-footer">- Lý Thị Hồng</div>
      </div>
      <div class="message">
        Cuối cùng, xin chúc tất cả các bạn luôn vui vẻ, khỏe mạnh và đạt nhiều thành công trong cuộc sống!
        <div class="message-footer">- Trần Văn Dũng</div>
      </div>
    </div>
  </section>

  <section id="classmates" class="animate-section">
    <h2>Bạn cùng lớp</h2>
    <div class="classmates">
      <div class="classmate">
        <img src="https://randomuser.me/api/portraits/men/45.jpg" alt="Nguyễn Văn A" />
        <div class="classmate-name">Phan Ngọc Bảo Trân </div>
        <div class="classmate-role">Lớp trưởng</div>
      </div>
      <div class="classmate">
        <img src="https://randomuser.me/api/portraits/women/68.jpg" alt="Trần Thị Bích Ngọc" />
        <div class="classmate-name">Hà Đặng Minh Phúc</div>
        <div class="classmate-role">Lớp phó </div>
      </div>
      <div class="classmate">
        <img src="https://randomuser.me/api/portraits/men/33.jpg" alt="Phạm Văn Cường" />
        <div class="classmate-name">Nguyễn Sỹ An</div>
        <div class="classmate-role">Học sinh</div>
      </div>
      <div class="classmate">
        <img src="https://randomuser.me/api/portraits/women/29.jpg" alt="Lê Thị Dung" />
        <div class="classmate-name">Lê Cảnh Duy</div>
        <div class="classmate-role">Học sinh</div>
      </div>
      <div class="classmate">
        <img src="https://randomuser.me/api/portraits/men/77.jpg" alt="Đinh Hoàng Long" />
        <div class="classmate-name">Đỗ Thị Phương Duyên</div>
        <div class="classmate-role">Học sinh</div>
      </div>
      <div class="classmate">
        <img src="https://randomuser.me/api/portraits/women/40.jpg" alt="Hà Thu Hương" />
        <div class="classmate-name">Hoàng Duy Hà</div>
        <div class="classmate-role">Học sinh</div>
      </div>
      <div class="classmate">
        <img src="https://randomuser.me/api/portraits/men/50.jpg" alt="Bùi Minh Hoàng" />
        <div class="classmate-name">Nguyễn Hoàng</div>
        <div class="classmate-role">Học sinh</div>
      </div>
      <div class="classmate">
        <img src="https://randomuser.me/api/portraits/women/11.jpg" alt="Phan Thị Mai" />
        <div class="classmate-name">Võ Thanh Tuấn Hưng</div>
        <div class="classmate-role">Học sinh</div>
      </div>
      <div class="classmate">
        <img src="https://randomuser.me/api/portraits/men/81.jpg" alt="Hoàng Văn Nam" />
        <div class="classmate-name">Lương Thanh Khang</div>
        <div class="classmate-role">Học sinh</div>
      </div>
      <div class="classmate">
        <img src="https://randomuser.me/api/portraits/women/22.jpg" alt="Vũ Thị Lan" />
        <div class="classmate-name">Nguyễn Văn Trường Khang</div>
        <div class="classmate-role">Học sinh</div>
      </div>
      <div class="classmate">
        <img src="https://randomuser.me/api/portraits/men/28.jpg" alt="Trương Minh Đức" />
        <div class="classmate-name">Nguyễn Tiến Khánh</div>
        <div class="classmate-role">Học sinh</div>
      </div>
      <div class="classmate">
        <img src="https://randomuser.me/api/portraits/women/54.jpg" alt="Ngô Thị Hạnh" />
        <div class="classmate-name">Nguyễn Viết Anh Khoa</div>
        <div class="classmate-role">Học sinh</div>
      </div>
      <div class="classmate">
        <img src="https://randomuser.me/api/portraits/men/12.jpg" alt="Lê Văn Tùng" />
        <div class="classmate-name">Trần Như Anh Kiệt</div>
        <div class="classmate-role">Học sinh</div>
      </div>
      <div class="classmate">
        <img src="https://randomuser.me/api/portraits/women/33.jpg" alt="Đỗ Thị Hoa" />
        <div class="classmate-name">Nguyễn Ngô Hoàng Long</div>
        <div class="classmate-role">Học sinh</div>
      </div>
      <div class="classmate">
        <img src="https://randomuser.me/api/portraits/men/69.jpg" alt="Phùng Minh Quân" />
        <div class="classmate-name">Võ Nhật Long</div>
        <div class="classmate-role">Học sinh</div>
      </div>
      <div class="classmate">
        <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="Tạ Thị Hồng" />
        <div class="classmate-name">Lê Phước Nhật Minh</div>
        <div class="classmate-role">Học sinh</div>
      </div>
      <div class="classmate">
        <img src="https://randomuser.me/api/portraits/men/35.jpg" alt="Trần Văn Đông" />
        <div class="classmate-name">Nguyễn Đình Minh</div>
        <div class="classmate-role">Học sinh</div>
      </div>
      <div class="classmate">
        <img src="https://randomuser.me/api/portraits/women/57.jpg" alt="Nguyễn Thị Phương" />
        <div class="classmate-name">Trương Xuân Nghị</div>
        <div class="classmate-role">Học sinh</div>
      </div>
      <div class="classmate">
        <img src="https://randomuser.me/api/portraits/men/25.jpg" alt="Võ Minh Hải" />
        <div class="classmate-name">Lê Hữu Hoàng Nguyên</div>
        <div class="classmate-role">Học sinh</div>
      </div>
      <div class="classmate">
        <img src="https://randomuser.me/api/portraits/women/23.jpg" alt="Lý Thị Thanh" />
        <div class="classmate-name">Lê Xuân Hồng Sơn</div>
        <div class="classmate-role">Học sinh</div>
      </div>
      <div class="classmate">
        <img src="https://randomuser.me/api/portraits/men/39.jpg" alt="Dương Văn Bá" />
        <div class="classmate-name">Hoàng Nhân Thiện Tâm</div>
        <div class="classmate-role">Học sinh</div>
      </div>
      <div class="classmate">
        <img src="https://randomuser.me/api/portraits/women/17.jpg" alt="Phạm Thị Huyền" />
        <div class="classmate-name">Nguyễn Phước Quý Tâm</div>
        <div class="classmate-role">Học sinh</div>
      </div>
      <div class="classmate">
        <img src="https://randomuser.me/api/portraits/men/48.jpg" alt="Nguyễn Đức Anh" />
        <div class="classmate-name">Trần Ngô Thanh Thảo</div>
        <div class="classmate-role">Học sinh</div>
      </div>
      <div class="classmate">
        <img src="https://randomuser.me/api/portraits/women/66.jpg" alt="Bùi Thị Mai" />
        <div class="classmate-name">Lê Công Minh Tiến</div>
        <div class="classmate-role">Học sinh</div>
      </div>
      <div class="classmate">
        <img src="https://randomuser.me/api/portraits/men/15.jpg" alt="Trần Thanh Tùng" />
        <div class="classmate-name">Nguyễn Minh Tiến</div>
        <div class="classmate-role">Học sinh</div>
      </div>
    <div class="classmate">
        <img src="https://randomuser.me/api/portraits/women/66.jpg" alt="Bùi Thị Mai" />
        <div class="classmate-name">Hồ Lưu Thuỳ Trang</div>
        <div class="classmate-role">Học sinh</div>
      </div>
      <div class="classmate">
        <img src="https://randomuser.me/api/portraits/women/66.jpg" alt="Bùi Thị Mai" />
        <div class="classmate-name">Nguyễn Viết Anh Tuấn</div>
        <div class="classmate-role">Học sinh</div>
      </div>
    </div>
  </section>
</main>

<!-- Fixed music player with toggle -->
<div id="music-player" title="Phát / Tạm dừng nhạc" aria-label="Phát hoặc tạm dừng nhạc nền" role="button" tabindex="0">
  <svg viewBox="0 0 24 24" aria-hidden="true" id="music-icon" >
    <path d="M8 5v14l11-7z"></path>
  </svg>
  Nhạc nền
</div>
<audio id="background-music" loop preload="auto">
  <source src="./cap3.m4a" type="audio/mp3"/>
  Trình duyệt của bạn không hỗ trợ thẻ audio.
</audio>

<footer>
  &copy; 2022 Kỷ yếu cấp 3 - Niên khóa 2022 - 2025. All rights reserved.
</footer>

<script>
  // Navigation active link highlight on scroll
  const sections = document.querySelectorAll('main section');
  const navLinks = document.querySelectorAll('nav a');

  function setActiveNav() {
    let index = sections.length;

    while(--index && window.scrollY + 100 < sections[index].offsetTop) {}
    navLinks.forEach(link => link.classList.remove('active'));
    navLinks[index].classList.add('active');
  }
  setActiveNav();
  window.addEventListener('scroll', setActiveNav);

  // Smooth scrolling for nav links
  navLinks.forEach(link => {
    link.addEventListener('click', e => {
      e.preventDefault();
      const targetId = link.getAttribute('href').substring(1);
      document.getElementById(targetId).scrollIntoView({behavior: 'smooth'});
    });
  });

  // Gallery modal preview
  const galleryImages = document.querySelectorAll('.gallery img');
  const modal = document.createElement('div');
  modal.id = 'modal';
  modal.className = 'modal';
  modal.innerHTML = '<span class="close-btn" aria-label="Đóng">&times;</span><img alt="Ảnh kỷ niệm lớn" />';
  document.body.appendChild(modal);

  const modalImg = modal.querySelector('img');
  const closeBtn = modal.querySelector('.close-btn');

  galleryImages.forEach(img => {
    img.addEventListener('click', () => {
      modalImg.src = img.src;
      modalImg.alt = img.alt;
      modal.classList.add('show');
      document.body.style.overflow = 'hidden';
    });
  });

  closeBtn.addEventListener('click', () => {
    modal.classList.remove('show');
    document.body.style.overflow = '';
  });

  modal.addEventListener('click', e => {
    if (e.target === modal) {
      modal.classList.remove('show');
      document.body.style.overflow = '';
    }
  });

  // Intersection Observer for fade-in animations on sections, messages, classmates
  const observerOptions = {
    threshold: 0.15
  };

  const fadeInObserver = new IntersectionObserver((entries, observer) => {
    entries.forEach(entry => {
      if(entry.isIntersecting) {
        entry.target.classList.add('visible');
        observer.unobserve(entry.target);
      }
    });
  }, observerOptions);

  document.querySelectorAll('section.animate-section').forEach(section => {
    fadeInObserver.observe(section);
  });
  document.querySelectorAll('.message').forEach(message => {
    fadeInObserver.observe(message);
  });
  document.querySelectorAll('.classmate').forEach(classmate => {
    fadeInObserver.observe(classmate);
  });

  // Music player toggle logic
  const musicPlayer = document.getElementById('music-player');
  const bgMusic = document.getElementById('background-music');
  const musicIcon = document.getElementById('music-icon');

  function updateIconPlaying(isPlaying) {
    if (isPlaying) {
      musicIcon.innerHTML = '<path d="M6 19h4.5V5H6v14zm7.5 0H18V5h-4.5v14z"/>'; // pause icon
    } else {
      musicIcon.innerHTML = '<path d="M8 5v14l11-7z"></path>'; // play icon
    }
  }

  // Initially paused, user has to click to play
  updateIconPlaying(false);

  musicPlayer.addEventListener('click', () => {
    if (bgMusic.paused) {
      bgMusic.play();
      updateIconPlaying(true);
    } else {
      bgMusic.pause();
      updateIconPlaying(false);
    }
  });

  // Also toggle via keyboard (Enter or Space)
  musicPlayer.addEventListener('keydown', (e) => {
    if (e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      musicPlayer.click();
    }
  });
</script>
</body>
</html>

